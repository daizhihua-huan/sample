<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>layui.dtree帮助手册</title>
    <link rel="stylesheet" href="../static/layui/css/layui.css">
    <script type="text/javascript" src="../static/layui/layui.js"></script>

    <link rel="stylesheet" href="../static/layui/layui_ext/dtree/dtree.css">
    <link rel="stylesheet" href="../static/layui/layui_ext/dtree/font/dtreefont.css">
</head>

<body>
<div class="container">
    <div class="layui-row layui-col-space10">
        <div class="layui-fluid">
            <fieldset class="layui-elem-field layui-field-title">
                <legend>在线示例</legend>
                <div class="layui-field-box">
                    <div class="layui-row layui-col-space10" style="margin-top: 10px;">
                        <div class="layui-col-xs12">
                            <div id="toolbarDiv" style="overflow: auto">
                                <ul id="demoTree" class="dtree" data-id="0"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>
</body>

<script type="text/javascript">
    layui.extend({
        dtree: 'http://localhost:8090/static/layui/layui_ext/dtree/dtree'
    }).use(['element','layer', 'table', 'code' ,'util', 'dtree', 'form'], function(){
        var element = layui.element, layer = layui.layer, table = layui.table, util = layui.util, dtree = layui.dtree, form = layui.form, $ = layui.$;

        var data = [
            {"id":"001","title": "湖南省","checkArr": "0","parentId": "0"},
            {"id":"002","title": "湖北省","checkArr": "0","parentId": "0"},
            {"id":"003","title": "广东省","checkArr": "0","parentId": "0"},
            {"id":"004","title": "浙江省","checkArr": "0","parentId": "0"},
            {"id":"005","title": "福建省","checkArr": "0","parentId": "0"},
            {"id":"006","title": "长沙市","checkArr": "0","parentId": "0"},
            {"id":"007","title": "株洲市","checkArr": "0","parentId": "0"},
            {"id":"008","title": "湘潭市","checkArr": "0","parentId": "0"},
            {"id":"009","title": "衡阳市","checkArr": "0","parentId": "0"},
            {"id":"010","title": "郴州市","checkArr": "0","parentId": "0"}
        ];


        var data = [
            {"id":"001", "title": "湖南省", "spread": true,  "parentId": "0",
                "children":[
                    {"id":"001001", "title": "长沙市","checkArr": "0", "parentId": "001"},
                    {"id":"001002", "title": "株洲市", "checkArr": "0", "parentId": "001"},
                    {"id":"001003", "title": "湘潭市", "checkArr": "0",  "parentId": "001"},
                    {"id":"001004", "title": "衡阳市", "checkArr": "0","parentId": "001"},
                    {"id":"001005", "title": "郴州市", "checkArr": "0",  "parentId": "001"}]},
            {"id":"002", "title": "湖北省", "parentId": "0",
                "children":[
                    {"id":"002001", "title": "武汉市", "checkArr": "0",  "parentId": "002"},
                    {"id":"002002", "title": "黄冈市", "checkArr": "0",  "parentId": "002"},
                    {"id":"002003", "title": "潜江市", "checkArr": "0", "parentId": "002"},
                    {"id":"002004", "title": "荆州市", "checkArr": "0", "parentId": "002"},
                    {"id":"002005", "title": "襄阳市", "checkArr": "0", "parentId": "002"}]},
            {"id":"003", "title": "广东省",  "parentId": "0",
                "children":[
                    {"id":"003001", "title": "广州市",  "parentId": "003",
                        "children":[
                            {"id":"003001001", "title": "天河区",  "parentId": "003001"},
                            {"id":"003001002", "title": "花都区",  "parentId": "003001"}]},
                    {"id":"003002", "title": "深圳市",  "parentId": "003"},
                    {"id":"003003", "title": "中山市", "checkArr": "0", "parentId": "003"},
                    {"id":"003004", "title": "东莞市", "checkArr": "0", "parentId": "003"},
                    {"id":"003005", "title": "珠海市", "checkArr": "0", "parentId": "003"},
                    {"id":"003006", "title": "韶关市", "checkArr": "0", "parentId": "003"}]},
            {"id":"004", "title": "浙江省", "last": false, "parentId": "0",
                "children":[
                    {"id":"004001", "title": "杭州市", "checkArr": "0", "parentId": "004"},
                    {"id":"004002", "title": "温州市", "checkArr": "0", "parentId": "004"},
                    {"id":"004003", "title": "绍兴市", "checkArr": "0", "parentId": "004"},
                    {"id":"004004", "title": "金华市", "checkArr": "0", "parentId": "004"},
                    {"id":"004005", "title": "义乌市", "checkArr": "0", "parentId": "004"}]},
            {"id":"005", "title": "福建省", "last": false, "parentId": "0",
                "children":[
                    {"id":"005001", "title": "厦门市", "checkArr": "0","last":true, "parentId": "005" }]
            }];



        var DTree = dtree.render({
            elem: "#toolbarDiv",
            data: data,
            initLevel: 1,
            checkbar: true,
            checkbarType: "only" // 默认就是all，其他的值为： no-all  p-casc   self  only
        });

        dtree.on("node(demoTree)", function(obj){
            layer.msg(JSON.stringify(obj.param));
        })
    });
</script>
</html>
